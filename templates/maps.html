{% extends 'base.html' %}

{% block title %}Homepage{% endblock %}

{% block body %}
<div class="container">

    <div class="row">

      <div class="col">
        <!-- COLUMN ONE -->
        <div class="row">
            <div class="col">
                <div id="filter-form">
                    <h3>Filter locations by movie</h3>
                    <select name = "chosen_movie" onchange="filterMarkers(this.value);">
                        <option value="all">See all</option>
                        {%for movie in movies%}
                        <option value="{{movie.title}}"> {{movie.title}} </option>
                        {%endfor%}
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div id = "info-bar">
                    <h2>Info bar: </h2>
                    {%for location in locations%}
                    <div class = 'info-card'>
                        <div id ="movie-card-{{location.location_id}}"> 
                            <div class="card" style="width: 18rem;">
                                <img class="card-img-top" src= {{location.image}} alt="Card image cap"></img>
                                <div class="card-body">
                                    <h5 class="card-title">{{location.name_irl}}</h5>
                                    <p class="card-text">{{location.description}}</p>
                                    <a href="#" class="btn btn-primary">Go somewhere</a>
                                </div>
                            </div> 
                        </div>
                    </div>
                    {%endfor%}
                    <div class="page-load-status">
                        <div class="loader-ellips infinite-scroll-request">
                          <span class="loader-ellips__dot"></span>
                          <span class="loader-ellips__dot"></span>
                          <span class="loader-ellips__dot"></span>
                          <span class="loader-ellips__dot"></span>
                        </div>
                        <p class="infinite-scroll-last">End of content</p>
                        <p class="infinite-scroll-error">No more pages to load</p>
                      </div>
                      <p>
                        <button class="view-more-button">View more</button>
                      </p>
                      <p class="pagination">
                        <a class="pagination_next" href="page2.html">Next page</a>
                      </p> 
                </div>
            </div>         
            <div class="col">
                <!-- COLUMN TWO -->
                <div id = "map-canvas">
                    <div id="map" style="width: 50%; height: 100%; position: absolute;">
                    </div>  
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block after_body %}
<script async
    src="https://maps.googleapis.com/maps/api/js?key={{maps_api_key}}&callback=initMap">
</script>
{% endblock %}
